<template>
  <div class="main-container">
    <!-- í™ë³´ ìë£Œ ìŠ¬ë¼ì´ë”ì™€ ë¡œê·¸ì¸ í¼ -->
    <section v-if="slides.length > 0" class="promo-login-section">
      <!-- í™ë³´ ìŠ¬ë¼ì´ë” -->
      <div class="promo-slider" @mouseenter="pauseSlider" @mouseleave="resumeSlider">
        <img :src="slides[currentSlide]" alt="Promo Image" class="promo-image" />
        <div class="pagination">
          <span 
            v-for="(slide, index) in slides" 
            :key="index" 
            :class="{ active: index === currentSlide }"
            @click="goToSlide(index)"
          ></span>
        </div>
      </div>

      <!-- ë¡œê·¸ì¸ í¼ ë˜ëŠ” ë¡œê·¸ì¸ í›„ ìƒíƒœ
      <div class="login-status">
        <div v-if="isAuthenticated" class="logged-in">
          <p class="welcome-message">
            <span>{{ loggedInUser }}</span>ë‹˜, <br />
            ì¼ì¼ ëª©í‘œ {{ stepsGoal }} ê±¸ìŒ
          </p>
          <div class="circle-container">
            <div v-for="n in 5" :key="n" :class="['circle', { active: n === currentStep }]">
              {{ n }}
            </div>
          </div>
          <button class="action-button">í˜„ì¬ 3ì£¼ì§¸ ë‹¬ì„± ì¤‘ ğŸ‰</button>
        </div>

        <div v-else class="login-box">
          <p class="login-prompt">ì•ˆë…•í•˜ì„¸ìš”<br />ë¡œê·¸ì¸ í•´ì£¼ì„¸ìš”</p>
          <form @submit.prevent="handleLogin" class="login-form">
            <input id="username" v-model="username" type="text" placeholder="ì•„ì´ë””" class="input-box" required />
            <input id="password" v-model="password" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸" class="input-box" required />
            <button type="submit" class="login-button">Login</button>
          </form>
        </div>
      </div> -->

      <!-- ë¡œê·¸ì¸ í¼ -->
      <div class="login-form">
        <h2>ì•ˆë…•í•˜ì„¸ìš”<br>ë¡œê·¸ì¸ í•´ì£¼ì„¸ìš”</h2>
        <form class="login-form-container">
          <div class="input-container">
            <input type="text" placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”" />
            <input type="password" placeholder="íŒ¨ìŠ¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”" />
          </div>
          <button class="button1" type="submit">Login</button>
        </form>
      </div>
    </section>

    <!-- ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
    <nav class="insurance-nav">
      <a href="#travel-insurance" @click.prevent="scrollToSection('travel-insurance')">ì—¬í–‰ì ë³´í—˜</a>
      <a href="#health-insurance" @click.prevent="scrollToSection('health-insurance')">ê±´ê°• ë³´í—˜</a>
      <a href="#medical-insurance" @click.prevent="scrollToSection('medical-insurance')">ì‹¤ì† ì˜ë£Œë¹„ ë³´í—˜</a>
    </nav>

    <!-- ë³´í—˜ ì„¹ì…˜ -->
    <section id="travel-insurance" class="insurance-section">
      <h3>ì—¬í–‰ì ë³´í—˜</h3>
      <p>ì•ˆì „í•œ ì—¬í–‰ì„ ìœ„í•œ ì¤€ë¹„</p>
      <button class="button2">
        <span class="button-title">í•´ì™¸ ì—¬í–‰ ë³´í—˜</span>
        <br>
        <span class="button-description">ë¶„ì‹¤~ ë³‘ì›~ ì „ë¶€ ë³´ì¥!</span>
      </button>
    </section>

    <section id="health-insurance" class="insurance-section">
      <h3>ê±´ê°• ë³´í—˜</h3>
      <p>ì§ˆë³‘ì— í•„ìš”í•œ ë³´ì¥, ìµœëŒ€ 100ì„¸ê¹Œì§€ ë“ ë“ í•˜ê²Œ</p>
      <button class="button2">
        <span class="button-title">ê±´ê°• ë³´í—˜(16~40)</span>
        <br>
        <span class="button-description">ê³ í˜ˆì••, ë‹¹ë‡¨ íŠ¹ì•½</span>
      </button>
      <button class="button2">
        <span class="button-title">ê±´ê°• ë³´í—˜(41~70)</span>
        <br>
        <span class="button-description">ê³ í˜ˆì••, ë‹¹ë‡¨ íŠ¹ì•½</span>
      </button>
      <button class="button2">
        <span class="button-title">ì•” ë³´í—˜</span>
        <br>
        <span class="button-description">ì·Œì¥ì•”, ëŒ€ì¥ì•”, ìœ ë°©ì•” ë³´ì¥</span>
      </button>
    </section>

    <section id="medical-insurance" class="insurance-section">
      <h3>ì‹¤ì† ì˜ë£Œë¹„ ë³´í—˜</h3>
      <p>ìƒí•´/ì§ˆë³‘ ë³´ì¥</p>
      <button class="button2">
        <span class="button-title">ì‹¤ì† ì˜ë£Œë¹„ ë³´í—˜</span>
        <br>
        <span class="button-description">ì´ê²ƒì €ê²ƒ ë‹¤ ë³´ì¥!</span>
      </button>
      <button class="button2">
        <span class="button-title">ìœ ë³‘ì ì‹¤ì† ë³´í—˜</span>
        <br>
        <span class="button-description">ë³‘ì´ ìˆë‚˜?? ì´ê±° í•˜ë¼</span>
      </button>
    </section>

    <section class="consultation-section">
      <div class="consultation-content">
        <h2>ìƒë‹´ì„ ì›í•˜ì‹­ë‹ˆê¹Œ?</h2>
        <p>ë‹¹ì‹ ì„ ìœ„í•œ ë§ì¶¤í˜• ìƒë‹´ ì œê³µ!</p>
        <p>ì§€ê¸ˆ ì‹œì‘í•˜ì„¸ìš”!</p>
        <button class="consultation-button">ì—¬ê¸¸ í´ë¦­í•˜ì„¸ìš” ></button>
      </div>
      <div class="consultation-image">
        <img src="/images/promotion/tmp1.jpg" alt="ìƒë‹´ ì´ë¯¸ì§€">
      </div>
    </section>

    <section class="testimonial-section">
      <h2>ê³ ê°ë“¤ì˜ ì´ìš© í›„ê¸°</h2>
      <div class="underline"></div>
      <div class="testimonial-slider">
        <div 
          v-for="(testimonial, index) in testimonials" 
          :key="index" 
          v-show="index === currentTestimonial"
        >
          <blockquote>{{ testimonial.text }}</blockquote>
          <p>{{ testimonial.name }}</p>
        </div>
      </div>
      <div class="pagination">
        <span 
          v-for="(testimonial, index) in testimonials" 
          :key="index" 
          :class="{ active: index === currentTestimonial }"
          @click="goToTestimonial(index)"
        ></span>
      </div>
    </section>
  </div>
</template>

<script>
// import { ref } from "vue";
// import { useUserStore } from "@/store/useUserStore";
export default {
  data() {
    return {
      slides: [
        '/images/promotion/tmp1.jpg',
        '/images/promotion/tmp2.jpg',
        '/images/promotion/tmp3.png',
        '/images/promotion/tmp4.jpg',
      ],
      currentSlide: 0,
      sliderInterval: null,
      testimonials: [
        { text: "ì—¬ëŸ¬ ë³´í—˜ì„ í•œëˆˆì— ëª¨ì•„ì£¼ê³  ë§ì¶¤í˜• ì¶”ì²œê¹Œì§€ í•´ì£¼ëŠ” ì ì´ ë„ˆë¬´ ì¢‹ì•„ìš”!", name: "YOONJUNE, UM" },
        { text: "ì§ê´€ì ì´ê³  ì‚¬ìš©í•˜ê¸° í¸ë¦¬í•©ë‹ˆë‹¤. 500ë§Œì›ì„ ì•„ê¼ˆìŠµë‹ˆë‹¤!", name: "JIEUN LEE, IU" },
        { text: "ë¹„ëŒ€ë©´ì´ë¼ ê°€ì„œ ì§ì ‘ ê³„ì•½í•˜ì§€ ì•Šì•„ë„ ë˜ë‹ˆ í¸í–ˆì–´ìš”!", name: "BYUNGHEE, YOON" }
      ],
    currentTestimonial: 0
    };
  },

  mounted() {
    this.startSlider();
  },

  methods: {
    startSlider() {
      this.sliderInterval = setInterval(() => {
        this.nextSlide();
      }, 5000);
    },
    nextSlide() {
      this.currentSlide = (this.currentSlide + 1) % this.slides.length;
    },
    pauseSlider() {
      clearInterval(this.sliderInterval);
    },
    resumeSlider() {
      this.startSlider();
    },
    goToSlide(index) { // í´ë¦­í•œ ë™ê·¸ë¼ë¯¸ì— í•´ë‹¹í•˜ëŠ” ì´ë¯¸ì§€ë¡œ ì´ë™
      this.pauseSlider(); // ìŠ¬ë¼ì´ë” ìë™ ì¬ìƒ ì¤‘ë‹¨
      this.currentSlide = index; // í˜„ì¬ ìŠ¬ë¼ì´ë“œ ì—…ë°ì´íŠ¸
      this.resumeSlider(); // ìŠ¬ë¼ì´ë” ì¬ìƒ ì¬ê°œ
    },
    scrollToSection(sectionId) {
    const section = document.getElementById(sectionId); // ì„¹ì…˜ IDë¡œ ìš”ì†Œ ì°¾ê¸°
    if (section) {
      const offset = section.getBoundingClientRect().top + window.pageYOffset; // ì„¹ì…˜ì˜ Y ì¢Œí‘œ ê³„ì‚°
      const offsetMiddle = offset - (window.innerHeight / 2) + (section.offsetHeight / 2); // í™”ë©´ ì¤‘ì•™ì— ë§ì¶”ê¸°
      window.scrollTo({
        top: offsetMiddle, // ì¤‘ì•™ ìœ„ì¹˜ë¡œ ìŠ¤í¬ë¡¤
        behavior: 'smooth' // ë¶€ë“œëŸ½ê²Œ ì´ë™
      });
    }
    },
    goToTestimonial(index) {
      this.currentTestimonial = index; // í˜„ì¬ í›„ê¸° ì—…ë°ì´íŠ¸
    },
    nextTestimonial() {
      this.currentTestimonial = (this.currentTestimonial + 1) % this.testimonials.length;
    },
    prevTestimonial() {
      this.currentTestimonial = (this.currentTestimonial - 1 + this.testimonials.length) % this.testimonials.length;
    }
  }
};
</script>

<style scoped>
@font-face {
  font-family: 'GmarketSansMedium';
  src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansMedium.woff')
    format('woff');
}

.main-container {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  padding-left: 20px;
  font-family: 'GmarketSansMedium', Arial, Helvetica, sans-serif;
  font-weight: normal;
  font-style: normal;
}

h2 {
  color: white;
}

input {
  font-size: 14px;
}

.promo-login-section {
  display: flex;
  justify-content: space-between;
  align-items: stretch;
  width: 100%;
  background-color: #043873;
  padding: 20px;
  height: 300px;
}

.promo-slider {
  width: 100%; /* ë¶€ëª¨ ì»¨í…Œì´ë„ˆ í¬ê¸° */
  max-width: 50%;
  height: 100%; /* ìŠ¬ë¼ì´ë” ë†’ì´ */
  position: relative;
  overflow: hidden; /* ìŠ¬ë¼ì´ë” ë‚´ë¶€ ì½˜í…ì¸ ê°€ ë„˜ì¹˜ì§€ ì•Šë„ë¡ */
  flex: 1;
}

.promo-image {
  width: 100%;
  height: 100%; /* ë†’ì´ ìë™ ì¡°ì • */
  border-radius: 8px;
  object-fit: cover; /* ì´ë¯¸ì§€ë¥¼ ì»¨í…Œì´ë„ˆì— ë§ê²Œ ì¡°ì • */
}

.pagination {
  position: absolute;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 8px;
  justify-content: center;
  margin-top: 20px;
}

.pagination span {
  width: 10px;
  height: 10px;
  background-color: white;
  border-radius: 50%;
  cursor: pointer;
}

.pagination .active {
  background-color: #4F9CF9;
}

.login-form {
  width: 50%;
  max-width: 50%;
  background-color: #C4DEFD;
  padding: 20px;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 1;
}

.login-form-container {
  display: flex; /* ì…ë ¥ì°½ê³¼ ë²„íŠ¼ì„ ê°€ë¡œë¡œ ì •ë ¬ */
  align-items: stretch; /* ì…ë ¥ì°½ê³¼ ë²„íŠ¼ì˜ ë†’ì´ë¥¼ ë™ì¼í•˜ê²Œ ì„¤ì • */
  gap: 10px; /* ì…ë ¥ì°½ê³¼ ë²„íŠ¼ ì‚¬ì´ì˜ ê°„ê²© */
}

.input-container {
  display: flex; /* ì…ë ¥ì°½ë“¤ì„ ìˆ˜ì§ìœ¼ë¡œ ì •ë ¬ */
  flex-direction: column;
  gap: 5px; /* ì…ë ¥ì°½ ì‚¬ì´ ê°„ê²© */
  flex: 1; /* ë²„íŠ¼ê³¼ ê· í˜•ì„ ë§ì¶”ê¸° ìœ„í•´ ê³µê°„ì„ ì°¨ì§€ */
}

.input-container input {
  padding: 10px; /* ë‚´ë¶€ ì—¬ë°± */
  font-size: 14px; /* í°íŠ¸ í¬ê¸° */
  border: 1px solid #ccc; /* í…Œë‘ë¦¬ ìƒ‰ìƒ */
  border-radius: 4px; /* í…Œë‘ë¦¬ ë‘¥ê¸€ê²Œ */
  width: 100%; /* ì…ë ¥ì°½ ë„ˆë¹„ë¥¼ ë¶€ëª¨ ì»¨í…Œì´ë„ˆì— ë§ì¶¤ */
  box-sizing: border-box;
}

.insurance-nav {
  background-color: #043873;
  width: 100%;
  display: flex; /* Flexboxë¡œ ë³€ê²½ */
  justify-content: center; /* í•­ëª© ì¤‘ì•™ ì •ë ¬ */
  gap: 100px; /* í•­ëª© ê°„ ê°„ê²©ì„ 40pxë¡œ ì„¤ì • */
  padding: 20px 0;
}

.insurance-nav a {
  color: white;
  text-decoration: none;
  font-size: 16px;
}

.insurance-section {
  margin: 40px 0;
  text-align: left;
  padding-left: 20px;
}

.insurance-section h3 {
  position: relative; /* ê°€ìƒ ìš”ì†Œ ë°°ì¹˜ë¥¼ ìœ„í•´ ìƒëŒ€ ìœ„ì¹˜ ì„¤ì • */
  display: inline-block; /* ì œëª© ë„ˆë¹„ì— ë§ê²Œ ê°€ìƒ ìš”ì†Œ í¬ê¸° ì¡°ì • */
  font-size: 24px; /* ì œëª© í°íŠ¸ í¬ê¸° */
  margin-bottom: 20px; /* ì œëª©ê³¼ ì´ë¯¸ì§€ ì‚¬ì´ ê°„ê²© */
}

.insurance-section h3::after {
  content: ''; /* ê°€ìƒ ìš”ì†Œ ìƒì„± */
  position: absolute; /* ì œëª© ë°‘ì— ìœ„ì¹˜ ì„¤ì • */
  bottom: 0px; /* ì œëª© ì•„ë˜ì— ìœ„ì¹˜ */
  left: 0;
  width: 250%; /* ì œëª© ë„ˆë¹„ì— ë§ê²Œ ì´ë¯¸ì§€ í¬ê¸° ì¡°ì • */
  height: 12px; /* ì´ë¯¸ì§€ ë†’ì´ */
  background-image: url('/images/deco/underline.png'); /* ì´ë¯¸ì§€ ê²½ë¡œ */
  background-size: contain; /* ì´ë¯¸ì§€ í¬ê¸° ì¡°ì • */
  background-repeat: no-repeat; /* ì´ë¯¸ì§€ ë°˜ë³µ ì œê±° */
}

.insurance-section h3,
.insurance-section p {
  margin-bottom: 10px;
}

/* ë²„íŠ¼ë“¤ì„ ê°€ë¡œë¡œ ë‚˜ì—´ */
.insurance-section button2 {
  display: inline-block; /* inline-blockìœ¼ë¡œ ì„¤ì • */
  margin: 10px; /* ë²„íŠ¼ ê°„ê²© ì¡°ì • */
}

.insurance-section .button-group {
  display: flex; /* Flexboxë¡œ ë²„íŠ¼ ê·¸ë£¹ ì„¤ì • */
  justify-content: flex-start;
  gap: 20px; /* ë²„íŠ¼ ê°„ ê°„ê²© */
  flex-wrap: wrap; /* í™”ë©´ì´ ì¢ì•„ì§€ë©´ ì¤„ ë°”ê¿ˆ */
}

.button1 {
  background-color: #FFE492; /* ë²„íŠ¼ ë°°ê²½ìƒ‰ */
  color: #043873; /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
  font-weight: bold; /* í…ìŠ¤íŠ¸ êµµê¸° */
  padding: 0; /* ë‚´ë¶€ ì—¬ë°± ì œê±° */
  border: none; /* í…Œë‘ë¦¬ ì œê±° */
  border-radius: 4px; /* ëª¨ì„œë¦¬ë¥¼ ë‘¥ê¸€ê²Œ ì„¤ì • */
  cursor: pointer; /* ë§ˆìš°ìŠ¤ í¬ì¸í„° ë³€ê²½ */
  width: 80px; /* ë²„íŠ¼ ë„ˆë¹„ */
  height: 100%;
  display: flex; /* Flexboxë¡œ í…ìŠ¤íŠ¸ ì •ë ¬ */
  justify-content: center; /* í…ìŠ¤íŠ¸ë¥¼ ê°€ë¡œ ì¤‘ì•™ ì •ë ¬ */
  align-items: center; /* í…ìŠ¤íŠ¸ë¥¼ ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
  transition: background-color 0.3s ease, transform 0.2s ease; /* í˜¸ë²„ ì‹œ ë¶€ë“œëŸ¬ìš´ ì „í™˜ íš¨ê³¼ */
}

.button1:hover {
  background-color: #FFD54F; /* í˜¸ë²„ ì‹œ ë°°ê²½ìƒ‰ ë³€ê²½ */
  transform: translateY(-2px); /* ì•½ê°„ì˜ ë¶€ë“œëŸ¬ìš´ ìœ„ë¡œ ì´ë™ íš¨ê³¼ */
}

.button2 {
  background-color: #4F9CF9;
  color: white;
  font-weight: bold;
  padding: 20px 15px;
  margin: 10px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  width: 180px; /* ë²„íŠ¼ì˜ ë„ˆë¹„ */
  height: 60px; /* ë²„íŠ¼ì˜ ë†’ì´ */
  text-align: left;
  padding-left: 20px;
  padding-bottom: 80px;
  display: inline-block;
}

.button2:hover {
  background-color: #4292e3;
}

.button-title {
  font-weight: bold;
  font-size: 14px;
}

.button-description {
  font-size: 10px;
  color: #fff; /* ì„¤ëª… í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
  opacity: 0.8; /* ì•½ê°„ ì—°í•˜ê²Œ í‘œì‹œ */
}

.consultation-section {
  display: flex; /* Flexboxë¡œ ì¢Œìš° ì •ë ¬ */
  justify-content: space-between; /* ì™¼ìª½ ë¬¸êµ¬ì™€ ì˜¤ë¥¸ìª½ ì´ë¯¸ì§€ë¥¼ ë‚˜ëˆ” */
  align-items: center; /* ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
  background-color: #043873; /* íŒŒë€ ë°°ê²½ */
  color: white; /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
  padding: 40px 20px; /* ì„¹ì…˜ ì•ˆìª½ ì—¬ë°± */
  gap: 20px; /* ë¬¸êµ¬ì™€ ì´ë¯¸ì§€ ì‚¬ì´ ê°„ê²© */
  width: 100%;
  box-sizing: border-box;
}

.consultation-content {
  flex: 1; /* ë¬¸êµ¬ê°€ ê³µê°„ì„ ì°¨ì§€ */
  padding-left: 50px;
}

.consultation-content h2 {
  font-size: 28px;
  margin-bottom: 10px;
}

.consultation-content p {
  font-size: 15px;
  margin-bottom: 10px;
}

.consultation-button {
  background-color: #FFE492; /* ë²„íŠ¼ ë°°ê²½ìƒ‰ */
  color: #043873; /* ë²„íŠ¼ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
  font-weight: bold;
  padding: 10px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 16px;
}

.consultation-button:hover {
  background-color: #FFD54F; /* í˜¸ë²„ ì‹œ ìƒ‰ìƒ ë³€ê²½ */
}

.consultation-image {
  flex: 1; /* ì´ë¯¸ì§€ê°€ ê³µê°„ì„ ì°¨ì§€ */
  display: flex;
  justify-content: center;
}

.consultation-image img {
  width: 200px;
  max-width: 100%;
  height: 200px;
  border-radius: 0px; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
}

.testimonial-section {
  background-color: #fff; /* í•˜ì–€ ë°°ê²½ */
  text-align: center;
  padding: 40px 20px;
  position: relative;
  width: 100%;
}

.testimonial-section h2 {
  font-size: 28px;
  color: #043873;
  margin-bottom: 10px;
}

.underline {
  width: 80px;
  height: 4px;
  background-color: #FFD54F; /* í•˜ì´ë¼ì´íŠ¸ ìƒ‰ìƒ */
  margin: 0 auto 20px auto;
}

.testimonial-slider {
  display: flex;
  overflow: hidden; /* ìŠ¬ë¼ì´ë” ë¶€ë¶„ë§Œ í‘œì‹œ */
  gap: 20px;
  justify-content: center;
}

.testimonial {
  flex: 0 0 300px; /* ê° ìŠ¬ë¼ì´ë” ë„ˆë¹„ */
  background-color: #C4DEFD; /* ì¹´ë“œ ë°°ê²½ */
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  text-align: left;
}

.testimonial blockquote {
  font-size: 16px;
  font-style: italic;
  margin-bottom: 10px;
}

.testimonial p {
  font-size: 14px;
  color: #043873;
  font-weight: bold;
  margin-top: 0;
}

.pagination {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-top: 20px;
}

.pagination span {
  width: 12px;
  height: 12px;
  background-color: #ddd;
  border-radius: 50%;
  cursor: pointer;
}

.pagination .active {
  background-color: #043873; /* í™œì„±í™”ëœ í˜ì´ì§€ë„¤ì´ì…˜ ìƒ‰ìƒ */
}
</style>